# Flipdots Raycaster + Mobile Controller

A tiny first-person “raycaster” demo that renders to an 84×28-style display, plus a mobile controller you can open on your phone. The controller sends movement and look events to the game and shows a live minimap stream from the game.

## What’s inside
- Game page (`index.html`) with a simple 3D raycaster
- Socket.IO server in `controller/` that serves the mobile controller UI
- Mobile controller UI (`controller/public/index.html`) with pixel-style buttons and a live minimap

## Requirements
- Node.js 18+ (for the controller server)
- A modern browser for the game and the phone
- Your phone and PC on the same Wi‑Fi network

## Quick start
1) Install and start the controller server
```bash
cd controller
npm install
npm start
```
You should see: `controller at http://localhost:4000`

2) Open the game
- Open `index.html` in your desktop browser (double-click it or serve it with a local server).

3) Connect the phone controller
- Find your PC’s IP (Windows: run `ipconfig`, look for the IPv4 address, e.g. 192.168.1.23).
- On your phone, open: `http://<your-pc-ip>:4000`
- You should see the pixel D‑pad on the left, the minimap in the middle, and look buttons on the right.

## Controls
- Move: Up/Down/Left/Right on the D‑pad (tap = step, hold = continuous)
- Look: LEFT / RIGHT buttons (tap or hold)
- Keyboard (desktop, if needed): WASD / Arrow keys to move, Q/E to turn, F to interact

## Features
- Pixel-style controller buttons with a small “pressed” effect
- Live minimap streamed from the game to your phone (throttled for performance)
- Landscape layout on mobile: Move | Minimap | Look side-by-side

## Troubleshooting
- ERR_SSL_PROTOCOL_ERROR
  - Use `http://` not `https://` (the local server serves plain HTTP).
  - If your browser forces HTTPS, try Incognito, clear site settings for that IP, or disable “Always use secure connections” temporarily.

- Phone can’t reach the controller page
  - Make sure the PC firewall allows Node.js/port 4000.
  - Test by opening: `http://<pc-ip>:4000/socket.io/socket.io.js` on the phone. If it loads, the server is reachable.

- Game not reacting to the phone
  - Check that the game tab is open and focused.
  - By default, the game connects to `http://localhost:4000`. This is correct when the game and server run on the same PC. If you run the game from another device, update the Socket.IO URL in `index.html` to your PC IP.

## Project structure
```
flipdots-project/
  index.html                # Game page
  js/                       # Game logic and rendering
  controller/
    server.js               # Socket.IO + Express server
    public/index.html       # Mobile controller UI
```

## Development notes
- The minimap is rendered off-screen in the game and sent to the controller as a compressed image (WebP Data URL).
- If you want a higher or lower FPS, search in `index.html` for the minimap emit and tweak the throttle.
- Controller styles live in `controller/public/index.html` inside the `<style>` tag.

---
This README was generated by AI.

